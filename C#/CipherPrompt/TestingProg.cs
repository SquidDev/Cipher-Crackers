using Cipher.Analysis.AutoSpace;
using System;
using System.IO;

namespace Cipher.Prompt
{
    class TestingProg
    {
        static bool Debug = false;
        static void Main(string[] args)
        {
#if DEBUG
            Debug = true;
#endif
            DateTime Start = DateTime.Now;


            WordGuesser Guesser = new WordGuesser("PHILITHASBEENSTARINGYOUINTHEFACEALLTHISTIMEBUTICANUNDERSTANDWHYYOUDIDNTSEEITTHATGIRLCOULDFORGEANYTHINGIFINALLYUNDERSTOODWHATHADHAPPENEDWHENICRACKEDTHEENCLOSEDREPORTFROMTHENAZIARCHIVESTHEMONALISAHASHADAPRETTYADVENTUROUSTIMEOVERTHELASTFORTYYEARSTHENAZISDISCOVEREDTHATPERUGGIAWASANASSOCIATEOFTHEGHETTOFAMILYANDTHATAFTERHEHADTAKENTHEPAINTINGTOITALYITHADBEENINTHEIRCUSTODYFORATLEASTSOMEPARTOFTHETWOYEARSITWASMISSINGREADTHEREPORTYOURSELFANDYOUWILLSEETHATTHEYCAMETOTHECONCLUSIONTHATTHEGHETTOSHELDONTOHERBECAUSETHEYCOULDNTMAKEACONVINCINGFORGERYIDONTBUYTHATANDIDONTBELIEVETHATTHEYWOULDHAVELETPERUGGIAOFFERITTOANYONEELSEONCETHEYHADHOLDOFITTHEMSELVESTHENAZISHAVEFALLENFORTHESAMETRICKTHATFOOLEDEVERYONEELSETHEPRETENCETHATTHEPAINTINGPERUGGIASHOWEDTOGERIWASTHEORIGINALITWASAFAKEPOSSIBLYTHEBESTFAKEINARTHISTORYIDONTKNOWWHETHERPERUGGIAWASINONTHEDECEPTIONORNOTGIVENTHEIRSKILLSTHEGHETTOFAMILYCANTHAVEBEENSHORTOFMONEYORINFLUENCEANDHEWASNOTINSIDEFORLONGEITHERWAYTHEFAKEWASRESTOREDTOFRANCEANDTHEORIGINALWASHIDDENAWAYWHENFALSCHUNGORDEREDSARATOCOPYTHEPARISMONALISAHEBELIEVEDALONGWITHTHERESTOFTHEWORLDTHATITWASTHEORIGINALSARAMUSTHAVEKNOWNTHETRUESTORYANDPRODUCEDANEWANDALMOSTPERFECTFAKEFORHIMBUTUSEDANOLDSCRAPOFLEADPIPEFROMTHECELLARTOMARKTHEBOARDWITHTHENAZIEMBLEMKNOWINGTHATATSOMEPOINTTHEFORGERYWOULDBEDISCOVEREDSHEMUSTHAVEHOPEDTHATTHENAZISWOULDBEBLAMEDFORTHETHEFTOFTHEMONALISAPROVIDINGTHEPERFECTCOVERFORHEROWNFAMILYSORIGINALCRIMETHATLEFTONEMYSTERYWHEREWASTHEPAINTINGSHEREPLACEDSHECOULDNTHAVETRAVELLEDSOUTHWITHTHEPERUGGIAFORGERYSINCEITWASPAINTEDONABOARDNOTSOMETHINGSHECOULDEASILYCONCEALSOSHEMUSTHAVELEFTTHEPAINTINGBEHINDBUTACCORDINGTOTHEREPORTTHEHOUSEINMONTMARTREWASTHOROUGHLYSEARCHEDBYEXPERTSTHENISAWITHERTOOLSANDWORKSINTHEVENICEAPARTMENTWEREHIDDENBEHINDTHEPANELSIREMEMBEREDSARASREMARKFROMHERDIARYIWASNEARLYCAUGHTLASTNIGHTHECAMETOCHECKONMEANDIJUSTHADTIMETOTURNTHECANVASAGAINSTTHEWALLINTHESHADOWSTHEMONALISAWASNTPAINTEDONCANVASSOWHATELSEWOULDSHEHAVEBEENPAINTINGITOOKALOOKDOWNTHERETHISAFTERNOONITISVERYDARKINTHEBACKCORNEROFTHATCELLARWITHNONATURALLIGHTANDATHICKCOATINGOFDIRTANDDUSTONTHEWALLSWHICHSEEMSTOABSORBANYILLUMINATIONLEAVINGITHARDTOMAKEOUTDETAILSEVENWITHAGOODTORCHIFYOUDIDNTKNOWITWASTHEREYOUWOULDNEVERFINDITBEHINDACAMOUFLAGEDFLAPPINNEDTOTHEWALLIFOUNDTHEPERUGGIACOPYTHEDISGUISEWASAWORKOFARTTHECANVASTHICKLYCOATEDWITHBRICKDUSTANDDIRTMIXEDWITHBINDERSSHEMUSTHAVESMUGGLEDDOWNFROMTHEATTICSTUDIOITWASFASTENEDTOTHEWALLWITHSOFTLEADWEDGESJAMMEDINTOTHECRACKSINTHEMORTAREASYTOREMOVEBUTEASILYCOVEREDWITHMOREOFTHEDIRTICANSEEWHYNOONESPOTTEDITBEFORETHEPERUGGIACOPYWASANOTHERMASTERPIECEBUTITBEGSTHEQUESTIONOFWHERETHEORIGINALMIGHTBEIAMNOTSUREWEWILLEVERFINDITANDIAMCERTAINTHEFRENCHWILLNOTLIKEITIFWETELLTHEMTHATIWOULDSUGGESTTHATWEKEEPITTOOURSELVESSINCETHEPERUGGIACOPYWASDESIGNEDTOSTAYUNDETECTEDUNLIKETHEEAGLEEMBLEMVERSIONMAYBEWESHOULDSWITCHTHEMANDFORGETABOUTITWECANBURNTHENAZIVERSIONANDMAYBENOONEWILLEVERKNOWTHATTHEPAINTINGINTHELOUVREISJUSTACOPYSOMEWHEREOUTTHERESARAANDHERFAMILYAREGUARDINGTHEORIGINALANDIFIEVERGETTHECHANCEIPLANTOGOHUNTINGFORITMAYBEYOUWOULDJOINMEHARRY");
            Console.WriteLine(String.Join(" ", Guesser.Result));

            if(Debug)
            {
                DateTime End = DateTime.Now;
                TimeSpan Duration = End - Start;
                Console.WriteLine("Took {0} seconds to complete", Duration.TotalSeconds);
                Console.WriteLine("Press [enter] to exit");
                Console.ReadLine();
            }

        }
    }
}
